<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>关于inline-block最好的一篇文章 | forsigner的博客</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="CSS," />
  

  <meta name="description" content="这是转自火枪手团队博客的一篇文章：inline-block 前世今生。">
<meta property="og:type" content="article">
<meta property="og:title" content="关于inline-block最好的一篇文章">
<meta property="og:url" content="http://www.forsigner.com/2013/03/28/inline-block/index.html">
<meta property="og:site_name" content="forsigner的博客">
<meta property="og:description" content="这是转自火枪手团队博客的一篇文章：inline-block 前世今生。">
<meta property="og:updated_time" content="2017-02-20T13:24:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于inline-block最好的一篇文章">
<meta name="twitter:description" content="这是转自火枪手团队博客的一篇文章：inline-block 前世今生。">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbe6" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  
</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、inline-block-前世"><span class="toc-text">一、inline-block 前世</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-认知"><span class="toc-text">1.认知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-到底什么是-inline-block"><span class="toc-text">2. 到底什么是 inline-block</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-inline-block-缘从何起？"><span class="toc-text">3. inline-block 缘从何起？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、inline-block-今生"><span class="toc-text">二、inline-block 今生</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-display-inline-block-后的元素为什么会产生水平空隙，这真的是-bug-吗？"><span class="toc-text">1. display:inline-block 后的元素为什么会产生水平空隙，这真的是 bug 吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-去掉-inline-block-产生的空隙"><span class="toc-text">2.去掉 inline-block 产生的空隙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-去除-inline-block-空隙终极解决方案（2012年8月17日更新）"><span class="toc-text">3. 去除 inline-block 空隙终极解决方案（2012年8月17日更新）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-结局——本文产生的一些观点如下："><span class="toc-text">4. 结局——本文产生的一些观点如下：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、inline-block-未来"><span class="toc-text">三、inline-block 未来</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-inline-block" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">关于inline-block最好的一篇文章</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2013.03.28</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>forsigner</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </span>



      
        <span>
          <i class="icon-comment"></i>
          <a href="http://www.forsigner.com/2013/03/28/inline-block/#disqus_thread"></a>
        </span>
      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <p>这是转自火枪手团队博客的一篇文章：inline-block 前世今生。<br><a id="more"></a></p>
<p>这是读过的关于inline-block最好的文章，如下：</p>
<p>曾几何时，display:inline-block 已经深入「大街小巷」，随处可见 「display:inline-block; <em>display:inline; </em>zoom:1; 」这样的代码。如今现代浏览器已经全面支持这个属性值了，上面的代码只是为了兼容 IE6、7 而已。那么你真的了解 inline-block 了吗？本文将带你深入剖析该属性值的前世今生，让你更好的理解和运用 inline-block。（本文约定 display:inline-block 简写为 inline-block）</p>
<p>开篇我们来看几个问题：</p>
<ul>
<li>IE6、7 真的不支持 display:inline-block 吗？</li>
<li>display:inline-block 后的元素为什么会产生水平空隙，这真的是 bug 吗？</li>
<li>如何更好的解决 display:inline-block 元素间产生的水平空隙？</li>
</ul>
<h2 id="一、inline-block-前世"><a href="#一、inline-block-前世" class="headerlink" title="一、inline-block 前世"></a>一、inline-block 前世</h2><h3 id="1-认知"><a href="#1-认知" class="headerlink" title="1.认知"></a>1.认知</h3><p>也许有人问你为何要写「 display:inline-block; <em>display:inline; </em>zoom:1; 」 来兼容 IE6、7 时，你会立马答道：因为 IE6、7 不支持 display:inline-block 呗!不知道何时起，惯性思维给开发者带来了这样一个可怕的概念。万物都是辩证的，当你写下这些的时候，可曾怀疑过大众观点真的可靠吗？也许你认为这些无关 紧要，实现效果就好。但是如果不能理解每个属性或属性值的根本，你将永远无法全面的了解它，人云亦云只会让你浅尝辄止，止步不前。那么这里就涉及到所谓的 「CSS 学习瓶颈」的问题了，这个问题张鑫旭《说说CSS 学习中的瓶颈》一文有详细阐述，虽然部分观点我不是很赞同，但是中心思想还是很值得思考的。文中有几个不错的问题这里也列举出来供大家观摩：</p>
<p>line-height:150% 和 line-height:1.5 的区别是？</p>
<ul>
<li>float 为何会让外部容器高度塌陷？这是 bug？（我的答案在《那些年我们一起清除过的浮动》）</li>
<li>vertical-align 的表现为何在IE7, IE8, IE9 下表现不尽相同？其中的渲染机制是？<br>好了，回到 inline-block 的认知的问题，我的观点是：</li>
</ul>
<p>IE 从 5.5 开始就已经支持 display:inline-block 了，只是支持的并不是那么完善。</p>
<p>在 msdn 微软开发者社区，找到了 IE 从5.5 开始支持 inline-block 的证据：</p>
<p>The inline-block value is supported starting with Internet Explorer 5.5. You can use this value to give an object a layout without specifying the object’s height or width.</p>
<p>这里明确指出：从 IE5.5 开始支持 inline-block。</p>
<p>链接：<a href="http://msdn.microsoft.com/zh-cn/library/ie/ms530751(v=vs.85).aspx" target="_blank" rel="external">http://msdn.microsoft.com/zh-cn/library/ie/ms530751(v=vs.85).aspx</a></p>
<p>那么既然 IE5.5 开始就已经支持了 inline-block，为何我们还要写那么一坨 CSS 呢？同时我们知道 IE6、7 中 display:inline-block 是可以触发 hasLayout 的，触发了 hasLayout 的元素表现出来的特征就是一个独立的矩形容器，可以设置宽高而且不受外部元素的影响，类似于现代浏览器中的 Block formatting contexts （块级格式化上下文）的概念。</p>
<p>下面来做一个详细的测试，分别看看 IE6 中 inline 元素和 block 元素的表现：</p>
<p>1）inline 元素 display:inline-block</p>
<p>IE6 中截图如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.dib-inline</span>, <span class="selector-class">.dib-block</span> &#123;</div><div class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</div><div class="line">    <span class="attribute">height</span>:<span class="number">30px</span>;</div><div class="line">    <span class="attribute">line-height</span>:<span class="number">30px</span>;</div><div class="line">    <span class="attribute">text-align</span>:center;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.dib-inline</span> &#123;</div><div class="line">    <span class="attribute">display</span>:inline-block;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试表明：IE6 中 inline 元素只要触发了 hasLayout 其表现就类似于 inline-block，这里设置 display:inline-block; 或者 zoom:1; 等其他属性值可以触发 hasLayout ，表现出来是一样的。</p>
<p>查看 DEMO</p>
<p>2）block 元素 display:inline-block</p>
<p>IE6 中截图如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.dib-inline</span>, <span class="selector-class">.dib-block</span> &#123;</div><div class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</div><div class="line">    <span class="attribute">height</span>:<span class="number">30px</span>;</div><div class="line">    <span class="attribute">line-height</span>:<span class="number">30px</span>;</div><div class="line">    <span class="attribute">text-align</span>:center;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.dib-block</span>&#123;</div><div class="line">    <span class="attribute">display</span>:inline-block;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试表明：IE6 中 block 元素即使触发了 hasLayout 也不能具有 inline-block 元素不换行的特性。想要 block 元素支持 inline-block 元素的特性，我们可以这样做：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.dib-block</span> &#123;</div><div class="line">    <span class="attribute">display</span>:inline;</div><div class="line">    <span class="attribute">zoom</span>:<span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>首先让 block 元素转化为 inline 元素，强制其不换行；然后通过 zoom:1 触发 hasLayout，使其可以设置宽高。修复后的 截图如下：</p>
<p>3）结合现代浏览器</p>
<p>综上，现代浏览器都支持 display:inline-block ，IE6、7 inline 元素也可以达到同样的效果，IE6、7 block 元素需要设置 display:inline; zoom:1; 它们结合在一起便是：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">display</span><span class="selector-pseudo">:inline-block</span>; <span class="comment">/* 现代浏览器 +IE6、7 inline 元素 *</span></div><div class="line">*display:inline; /* IE6、7 block 元素 *</div><div class="line">*zoom:1;</div></pre></td></tr></table></figure>
<p>为了不让支持 CSS2.1 inline-block 的浏览器 重置为 inline，我们针对 IE6、7 做一个 hack。由于现代浏览器也开始支持 zoom 属性，这里只是希望 IE6、7 中生效，所以还是 hack 一下比较合适。至此产生了我们熟悉的兼容各个浏览器的 inline-block 写法。</p>
<p>小结：IE6、7 并不是不支持 inline-block，只是 block 元素需要做一些处理来达到 inline-block 的效果。</p>
<h3 id="2-到底什么是-inline-block"><a href="#2-到底什么是-inline-block" class="headerlink" title="2. 到底什么是 inline-block"></a>2. 到底什么是 inline-block</h3><p>说了很多，或许很多朋友还不是太明白到底什么是 inline-block？W3C 在 CSS2.1 The ‘display’ property 中描述如下：</p>
<p>This value causes an element to generate an inline-level block container. The inside of an inline-block is formatted as a block box, and the element itself is formatted as an atomic inline-level box.</p>
<p>大致意思就是：inline-block 后的元素创建了一个行级的块容器，该元素内部（内容）被格式化成一个块元素，同时元素本身则被格式化成一个行内元素。</p>
<p>直白一点的意思就是：inline-block 的元素既具有 block 元素可以设置宽高的特性，同时又具有 inline 元素默认不换行的特性。当然不仅仅是这些特性，比如 inline-block 元素也可以设置 vertical-align 属性。简而言之：</p>
<p>inline-block 后的元素就是一个格式化为行内元素的块容器( Block container )</p>
<p>怎么样？听起来还不错吧！</p>
<h3 id="3-inline-block-缘从何起？"><a href="#3-inline-block-缘从何起？" class="headerlink" title="3. inline-block 缘从何起？"></a>3. inline-block 缘从何起？</h3><p>前面已经证明了 IE 5.5 开始就支持了 inline-block，那么 IE5.5 是什么时候发布的呢？话说当年网景与 IE 大战，IE5.5 那是何等的风骚……（好吧，此处略去十页）。从维基百科的资料来看，IE5.5 beta1 的发布时间是：1999年12月，最终版本是 2000年7月。那么 W3C 标准中是何时才出现 inline-block 这个值的呢？</p>
<p>在 CSS1 规范中，「display」的值仅包括： block | inline | list-item | none 。CSS2.1中才添加了 inline-block 属性值。一丝继续舔着手指，用那苦逼的英语水平终于翻到了这份草案：<a href="http://www.w3.org/TR/2002/WD-CSS21-20020802/visuren.html#display-prop，" target="_blank" rel="external">http://www.w3.org/TR/2002/WD-CSS21-20020802/visuren.html#display-prop，</a> 这份草案的日期是 2002年8月2日，纳尼！！！原来我们纠结了半天的 inline-block ， IE5.5 至少提前两年就提出来了啊！难道是微软给 W3C 提议后，CSS 2.1才加入的？（不过我看到 W3C 官网有一个关于是否增加 inline-block 的投票）好吧这个问题也许有一天 IE 某个开发者写《 IE回忆录》的时候我们才能了解到其中的内幕。如果找到更早关于 inline-block 的 CSS草案，也麻烦告知一丝一声。好吧，如果你还不相信，打微软官方电话问问吧 800-820-3800（不是 DHC 哦！）。</p>
<p>原来我们一直讨论的 inline-block 在 IE 6、7中和 CSS2.1 中的（现代浏览器所支持的） inline-block 上压根不是一个东东嘛，IE6、7 中的 inline-block 更像是 IE 的私有属性值，他们本身就不具有可比性。简单、绝对的认为 IE6、7 不支持 inline-block 好比一叶障目，看到前面，却看不到后面，太过于片面。诚然，IE6、7 的 hasLayout 给我们带来了很多麻烦，但是不得不承认微软的 IE 在网页多语言文本混排上的先进性，尤其是 CJK 文字和西文的混排，超越其他浏览器至少5年。</p>
<p>总结：</p>
<ul>
<li>IE5.5 后开始支持 inline-block， 但是它所支持的 inline-block 不能等同于 CSS2.1 中的 inline-block，因为 IE5.5 比 CSS2.1 更早提出 inline-block 的概念并作为所谓的「私有属性值」使用，所以二者表现出来的效果是不完全一致。</li>
<li>IE 5.5、6、7 、8（Q）中 block 元素对 inline-block 支持不完整，如果要达到类似的效果，需要先设置为 display:inline，然后使用 zoom:1 等触发 hasLayout。</li>
<li>IE 5.5、6、7 、8（Q）中 inline 元素欲达到 inline-block 的效果只需直接设置此属性值或使用 zoom:1 等均可。</li>
<li>各浏览器对 display 属性的支持情况请参阅：《各浏览器对 ‘display’ 特性值的支持程度不同》</li>
</ul>
<h2 id="二、inline-block-今生"><a href="#二、inline-block-今生" class="headerlink" title="二、inline-block 今生"></a>二、inline-block 今生</h2><h3 id="1-display-inline-block-后的元素为什么会产生水平空隙，这真的是-bug-吗？"><a href="#1-display-inline-block-后的元素为什么会产生水平空隙，这真的是-bug-吗？" class="headerlink" title="1. display:inline-block 后的元素为什么会产生水平空隙，这真的是 bug 吗？"></a>1. display:inline-block 后的元素为什么会产生水平空隙，这真的是 bug 吗？</h3><p>这么一个神奇的属性，为何大家一直避而远之呢？这恐怕还得从 inline-block 元素之间产生的水平空隙（间隙）说起吧。</p>
<p>参照 DEMO</p>
<p>现代浏览器中 inline 和 block 元素 display:inline-block 后均会产生水平空隙；</p>
<p>IE6、7，IE8（Q）模拟 display:inline-block 后分两种情况：</p>
<p>IE6、7，IE8（Q）中：inline 元素会产生空隙，block 元素不会产生空隙。<br>看看 inline 元素默认的表现情况如何？原来默认就有空隙存在！它们是谁？是空白符（white space）！</p>
<p>W3C 9.1 White space 中规定以下元素属于空白符（white space）：</p>
<ul>
<li>ASCII 空格</li>
<li>ASCII 制表符</li>
<li>ASCII 换页符</li>
<li>零宽度空格 「这个在闭合浮动中也有运用到」<br>9.3.2 Controlling line breaks 中进一步阐述：</li>
</ul>
<p>A line break is defined to be a carriage return (&#x000D;), a line feed (&#x000A;), or a carriage return/line feed pair. All line breaks constitute white space.</p>
<p>For more information about SGML’s specification of line breaks, please consult the notes on line breaks in the appendix.</p>
<p>折行被定义为一个回车符（&#x000D;），一个换行符 line feed (&#x000A;)，或者一个回车、换行的组合。所有的折行构成了空白符。</p>
<p>有关 SGML 规范中折行的更多信息，请参阅附录中关于折行的注释。</p>
<p>通常情况下，对于多个连续的空白符（空格，换行符，回车符等），浏览器会将他们合并为一个空白符。CSS 中由 white-space 这个属性来控制：</p>
<ul>
<li>white-space：normal | pre | nowrap | pre-wrap | pre-line</li>
<li>默认值：normal</li>
<li>normal：默认处理方式。</li>
<li>pre：用等宽字体显示预先格式化的文本，不合并文字间的空白距离，当文字超出边界时不换行。可查阅 pre 对象</li>
<li>nowrap：强制在同一行内显示所有文本，直到文本结束或者遭遇 br 对象。</li>
<li>pre-wrap：用等宽字体显示预先格式化的文本，不合并文字间的空白距离，当文字碰到边界时发生换行。</li>
<li>pre-line：保持文本的换行，不保留文字间的空白距离，当文字碰到边界时发生换行。</li>
</ul>
<p>注：IE7及更早浏览器不支持 CSS2.1 新增的 pre-wrap | pre-line。</p>
<p>所以这并不是 inline-block 后产生的 bug，而是因为 inline-block 具有 inline 元素固有的特性。那么为何 IE6、7 block 元素没有产生空隙呢？其实前面也提到了 IE 的 hasLayout，具有独立性，所以产生 hasLayout 的元素之间表现出来互不影响，这也再次表明 IE6、7 中的 inline-block 不能等同于 CSS2.1 中的 inline-block。如果非要说是有 bug， IE6、7 block 元素 inline-block 后不产生空隙才是 bug。</p>
<p>测试表明删除换行符后，inline 元素间的空隙就「消失」了：</p>
<h3 id="2-去掉-inline-block-产生的空隙"><a href="#2-去掉-inline-block-产生的空隙" class="headerlink" title="2.去掉 inline-block 产生的空隙"></a>2.去掉 inline-block 产生的空隙</h3><p>为了让各个浏览器表现一致，更好的还原视觉设计搞，很多时候我们需要去掉 inline-block 产生的空隙。</p>
<p>上一节中我们已经知道产生空隙的根本性原因是：</p>
<p>HTML 中的换行符、空格符、制表符等产生了空白符，而这些归根结底都是字符，那么它们的大小都是 受 font-size 来控制的，字体大小直接导致 inline 或者 inline-block 后元素之间空隙的大小，把 inline-block 元素间的空隙认为总是某个固定大小是错误的。</p>
<p>用 GIF 动画的形式来表明对应关系：</p>
<p>很清楚的看到，当 font-size:0 的时候元素间的空隙都为0了，或许到这里你会感到很欣喜了，原来掌握的根本性原因这么简单就搞定了啊！</p>
<p>然，理想是丰满的，现实是骨感的。</p>
<p>大部分浏览器是支持 font-size:0 的。很明显，我们要和 IE 6、7 这两个妖孽进行一番战斗。</p>
<p>font-size:0 的支持情况</p>
<p>1）Chrome</p>
<p>低版本的 chrome 浏览器为了不让文字过小不利于阅读，默认是不支持 font-size:0 的，还好我们有 -webkit-text-size-adjust 这个私有属性来控制，当设为 none 时就支持字体大小为 0 了。我已经记不清楚 chrome 从哪个版本开始支持 font-size:0 了，反正我用 chrome 19 是支持了（有知道的朋友，烦请告诉一丝一声，最好有官方更新说明）。但是，-webkit-text-size-adjust:none; 会直接导致页面文字无法缩放，这对于用户来说显然是不友好的。所以-webkit-text-size-adjust:none; 一定要慎用，确保使用的地方没有大面积的文字。</p>
<p>-webkit-text-size-adjust:none 的使用场景实例参阅：<a href="http://vip.etao.com/" target="_blank" rel="external">http://vip.etao.com/</a></p>
<p>2）Safari</p>
<p>Safari 5 依旧不支持 font-size:0 ，不过相信这些浏览器厂商都意识到了这个问题，在 Mac 平台最新的 Safari 6 已经很好的支持 font-size:0 了。</p>
<p>3）Firefox，Opera</p>
<p>经测试，Firefox12，Opera 10 ，这次表现不错，支持 font-size:0 。</p>
<p>4）IE</p>
<p>IE8 以上支持 font-size:0;<br>IE6、7 inline 元素 inline-block 后设置 font-size:0 始终有 1px 的空隙。<br>是不是一下子又开始头疼了？没关系，让我们请出 letter-spacing 和 word-spacing 二位大神。既然空白符也是字符，那么二位大神肯定是可以搞定它们的。</p>
<ul>
<li>letter-spacing : normal | length （检索或设置对象中的文字之间的间隔）</li>
<li>word-spacing : normal | length（检索或设置对象中的单词之间插入的空隔）</li>
<li>normal： 默认间隔</li>
<li>length： 用长度值指定间隔，允许为负值。</li>
</ul>
<p>还等什么，我们赶紧试试吧：</p>
<p>参照 DEMO</p>
<p>第一步：使用 font-size:0经测试发现，chrome、firefox、IE8+、opera，inline 或 block 元素都没有空隙了；<br>Safari 5.1.7 由于不支持 font-size:0 ，仍然存在空隙；</p>
<p>IE6、7、8（Q），inline 元素 inline-block 后始终存在 1px 左右的空隙。<br>第二步：处理 Safari 不支持 font-size:0 的问题上面已经指出 letter-spacing 是支持负值的，那么这个负值到底取多少合适呢？经过测试得出的结论是：inline-block 产生的空隙与父级元素继承或者设定的 font-family、font-size 有关，通常情况下，12px 大小的 tahoma 字体，inline-block 后元素间产生的空隙（间隙）大约是 5px；<br>各个字体详细情况请参阅《inline-block空隙–letter-spacing与字体大小/字体关系数据表》。</p>
<p>Firefox 中 letter-spacing 负值的绝对值大于空隙大小后，会导致元素整体位置向右偏移；</p>
<p>Safari 中 letter-spacing 负值的绝对值大于空隙大小后，内部会发生重叠。</p>
<p>第三步：修复 IE6、7 中始终存在的 1px 空隙<br>既然 letter-spacing 已经无能为力了，那就试试 word-spacing 吧，直接设置 word-spacing:-1px。这里需要注意的是，letter-spacing 和 word-spacing 同时使用可能导致冲突，所以我们需要在 IE6、7 中 hack 掉 letter-spacing。最终代码如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">font-size</span><span class="selector-pseudo">:0</span>;<span class="comment">/* 所有浏览器 */</span></div><div class="line"><span class="selector-tag">letter-spacing</span><span class="selector-pseudo">:-5px</span>;<span class="comment">/* Safari 等不支持字体大小为 0 的浏览器 */</span></div><div class="line">*<span class="selector-tag">letter-spacing</span><span class="selector-pseudo">:normal</span>;</div><div class="line"><span class="selector-tag">word-spacing</span><span class="selector-pseudo">:-1px</span>;<span class="comment">/* IE6、7 */</span></div></pre></td></tr></table></figure>
<p>第四步：子元素重置回正常值<br>上述所有操作都是在父元素设置的，那么子元素都会继承这些属性，字体大小为0了，子元素就什么都看不到了，这并不是我们想要的。 同时字符和单词间距我们也要把它重置为默认值。「font-size: 12px; letter-spacing: normal; word-spacing: normal;」<br>最后：inline-block 更好的复用<br>或许你会担心每次我都要去看字体和空隙之间大小的关系吗？其实不然，通常情况下，全局字体都已经在 body 中指定了，根据全局字体设置合适的 letter-spacing 负值即可。如此一来，我们便可以放心大胆的使用 inline-block 了，结合 OOCSS 的思想，可以抽离出两个复用的类，在需要设置 inline-block 元素的父级元素上定义一个「.dib-wrap」，该元素自身定义为「.dib」。这里还有一个问题需要注意的是：由于 inline-block 具有 inline 元素的特性，在垂直方向上很多时候我们并不希望元素以「vertical-align:baseline」方式来呈现，所以在「.dib-wrap」中统一重置为「vertical-align:top」即可。</p>
<h3 id="3-去除-inline-block-空隙终极解决方案（2012年8月17日更新）"><a href="#3-去除-inline-block-空隙终极解决方案（2012年8月17日更新）" class="headerlink" title="3. 去除 inline-block 空隙终极解决方案（2012年8月17日更新）"></a>3. 去除 inline-block 空隙终极解决方案（2012年8月17日更新）</h3><figure class="highlight"><table><tr><td class="code"><pre><div class="line">.dib-wrap &#123;</div><div class="line">    font-size:0;/* 所有浏览器 */</div><div class="line">    *word-spacing:-1px;/* IE6、7 */</div><div class="line">&#125;</div><div class="line">.dib-wrap .dib&#123;</div><div class="line">    font-size: 12px;</div><div class="line">    letter-spacing: normal;</div><div class="line">    word-spacing: normal;</div><div class="line">    vertical-align:top;</div><div class="line">&#125;</div><div class="line">@media screen and (-webkit-min-device-pixel-ratio:0)&#123;</div><div class="line">/* firefox 中 letter-spacing 会导致脱离普通流的元素水平位移 */</div><div class="line">.dib-wrap&#123;</div><div class="line">    letter-spacing:-5px;/* Safari 等不支持字体大小为 0 的浏览器, N 根据父级字体调节*/</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">.dib &#123;</div><div class="line">    display: inline-block;</div><div class="line">    *display:inline;</div><div class="line">    *zoom:1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其实在 YUI 3 中也全面运用了 inline-block 作为基础布局，YUI 3 是这样解决的：</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">.yui3-g &#123;</div><div class="line">    letter-spacing: -0.31em; /* webkit: collapse white-space between units */</div><div class="line">    *letter-spacing: normal; /* reset IE &lt; 8 */</div><div class="line">    word-spacing: -0.43em; /* IE &lt; 8 &amp;&amp; gecko: collapse white-space between units */</div><div class="line">&#125;</div><div class="line"></div><div class="line">.yui3-u &#123;</div><div class="line">    display: inline-block;</div><div class="line">    zoom: 1; *display: inline; /* IE &lt; 8: fake inline-block */</div><div class="line">    letter-spacing: normal;</div><div class="line">    word-spacing: normal;</div><div class="line">    vertical-align: top;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>显然，这里纯粹使用了 letter-spacing 和 word-spacing 来控制元素间的空隙，局限性极大，-0.31em 和 -0.43em 只是因为 YUI 3 全局 cssfonts.css 里设置是：「body { font:13px/1.231 arial,helvetica,clean,sans-serif; }」。</p>
<p>当然，如果你坚持使用把 html 写在一行的方式来达到去除 inline-block 空隙的目的，我只能说：一切以牺牲结构来兼容表现的行为都是耍流氓！所以探讨此种方式去除空隙也将是无意义的，不在本文和作者考虑范围之内。</p>
<h3 id="4-结局——本文产生的一些观点如下："><a href="#4-结局——本文产生的一些观点如下：" class="headerlink" title="4. 结局——本文产生的一些观点如下："></a>4. 结局——本文产生的一些观点如下：</h3><p>IE5.5 后开始支持 inline-block， 比 CSS2.1 更早提出 inline-block 的概念并作为所谓的「私有属性值」使用。但是它所支持的 inline-block 不能等同于 CSS2.1 中的 inline-block，IE 5.5、6、7 、8（Q）中 block 元素对 inline-block 支持不完整，因此二者表现出来的效果是不完全一致。<br>产生 inline-block 空隙的根本性原因是：HTML 中的换行符、空格符、制表符等合并为空白符，字体大小不为 0 的情况下，空白符自然占据一定的宽度，因此产生了元素间的空隙。<br>慎用 -webkit-text-size-adjust:none，它将会导致页面无法通过缩放来改变字体大小。</p>
<h2 id="三、inline-block-未来"><a href="#三、inline-block-未来" class="headerlink" title="三、inline-block 未来"></a>三、inline-block 未来</h2><p>如今，Mac 平台下的 Safari 6 已经支持 font-size:0 了，相信很快 Windows 平台的 Safari 如果发布 5.X 的更新，也会支持字体为 font-size:0 了。等到 IE6、7 灭亡之后，世界就真真儿的美妙了！最后说一点：inline-block 与 float 也是无法直接比较的，请不要再讨论 inline-block 和 float 哪个更好的话题了。inline-block 从 IE5.5 一路走来，存在即是合理，以后有时间在总结一下 inline-block 与 float 的使用场景的区别。</p>
<p>在不改变 CSS 定位机制的前提下，inline-block 应该是首选，而不是以「奇淫技巧」存在的。有感打油诗一首：</p>
<ul>
<li>网事如烟</li>
<li>CSS 红尘里</li>
<li>inline-block 知多少</li>
<li>你在这头</li>
<li>inline-block 在那头</li>
<li>用与不用</li>
<li>它就在那里</li>
<li>不悲不喜</li>
</ul>
<p>PS：</p>
<ul>
<li>为了更好的排版，本文使用繁体中文引号 「」代替简体中文小蝌蚪引号；</li>
<li>中英文混排的时候英文首尾各加一个空格；</li>
<li><p>以后文章有需要的时候也都将使用 gif 动画配合说明。</p>
<p>测试环境</p>
</li>
<li><p>操作系统版本:     Windows 7 企业版 6.1（内部版本 7600）</p>
</li>
<li>浏览器版本:    IE6</li>
<li>IE9</li>
<li>Firefox 14.0.1</li>
<li>Chrome 19.0.1084.46</li>
<li>Safari 5.1.7(7534.57.2)</li>
<li>Opera 12.50<br>最后更新时间:     2012-8-17</li>
</ul>

    
  </div>
</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，支持forsigner</div>
        <ul class="theme.donation.items.length">
        
          <li class="item">
            <img src="/images/qr-wechat.png" alt="">
          </li>
        
          <li class="item">
            <img src="/images/qr-alipay.png" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2013/03/25/css-clearfix/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2013/07/28/about-blog/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'forsigner';
    
    var disqus_url = 'http://www.forsigner.com/2013/03/28/inline-block/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script id="dsq-count-scr" src="//forsigner.disqus.com/count.js" async></script>



    




    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
